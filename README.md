# Домашнее задание к занятию "`Кеширование Redis/memcached`" - `Моторин Алексей`

# Задание 1. Кеширование

`Приведите примеры проблем, которые может решить кеширование.`

`Приведите ответ в свободной форме.`

---
**Кеширование в контексте Memcached и Redis решает несколько важных проблем:**

1.  **Оптимизация производительности базы данных:** Снижение нагрузки на БД | Уменьшение времени отклика | Сокращение количества запросов к БД.
    
2.  **Ускорение работы веб-приложений:** Быстрое получение часто используемых данных | Снижение времени генерации страниц | Улучшение отклика при высокой нагрузке.
    
3.  **Балансировка нагрузки:** Распределение нагрузки между серверами | Снижение пиковых нагрузок | Улучшение масштабируемости.
    
4.  **Обработка больших объемов данных:** Хранение промежуточных результатов | Быстрое чтение/запись данных | Оптимизация работы с временными данными.
    
5.  **Проблемы с задержками:** Уменьшение времени ответа сервера | Снижение задержек при обработке запросов | Оптимизация работы с медленными сервисами.
    
6.  **Проблемы консистентности:** Управление временем жизни данных | Механизмы обновления кеша | Стратегии invalidation | Балансировка между актуальностью и производительностью.
    

Кратко рассмотрим различия в подходах между Memcached и Redis.

`Memcached¹ - Простая ключ-значение (key-value) база данных в оперативной памяти. Создана для ускорения веб-приложений за счёт кэширования. Особенностью является отсутствие persistence (данные теряются при перезагрузке).`

`Redis - Продвинутая in-memory база данных (не только кэш). Поддерживает разные структуры данных: строки, списки, хеши, множества. Есть persistence (можно сохранять данные на диск).`

| &nbsp; | Memcached | Redis |
| --- | --- | --- |
| Основные особенности | ✅&nbsp;Высокая производительность (минимальные задержки)<br>✅&nbsp;Многопоточность&nbsp;(лучше использует CPU)<br>✅&nbsp;Автоматическое удаление старых данных (LRU-алгоритм)<br>❌ Нет сложных структур данных (только строки)<br>❌&nbsp;Нет&nbsp;репликации&nbsp;(только шардинг)<br> | ✅ Поддержка сложных типов данных (хеши, списки, множества)<br>✅ Публикация/подписка (PubSub) – для событийных систем<br>✅ Репликация и кластеризация (высокая доступность)<br>✅ Транзакции (MULTI/EXEC)<br>❌ Однопоточная модель (может уступать в пропускной способности Memcached) |
| Когда использовать | -&nbsp;Кэширование HTML-страниц, сессий, API-ответов.<br>-&nbsp;Если&nbsp;нужно&nbsp;максимально&nbsp;быстрое чтение/запись без сложных запросов. | -&nbsp;Кэширование + доп. функции (очереди, геоданные, рейтинги).<br>-&nbsp;Если нужны сложные запросы (например, поиск по ключам).<br>-&nbsp;Для репликации данных между серверами. |



---
¹ - `В IT-сообществе принято считать, что Memcached является устаревшей технологией. Но несмотря на то, что он был создан достаточно давно (первый выпуск состоялся 22 мая 2003 года), он продолжает активно развиваться и использоваться.` [Почему Memcached остается актуальным](/memcached_its_ok.md)
 

 
`Таким образом, Memcached остается актуальным и эффективным инструментом для решения задач кэширования данных в современных системах.`

Redis предоставляет более широкий функционал, лучшую производительность и более гибкую архитектуру, что делает его более привлекательным для современных проектов.

`Использование кеширования позволяет значительно улучшить производительность приложений и снизить нагрузку на основные компоненты системы, что особенно важно при высокой нагрузке и работе с большими объемами данных.`

---

&nbsp;

| Системы кеширования | Типичные сценарии использования | Рекомендации по использованию | Важные моменты при внедрении |
| --- | --- | --- | --- |
|Memcached | -&nbsp;Хранение&nbsp;сессий&nbsp;пользователей<br>-&nbsp;Кеширование&nbsp;HTML-фрагментов<br>-&nbsp;Кеширование&nbsp;результатов&nbsp;запросов<br>-&nbsp;Временное&nbsp;хранение конфигураций | -&nbsp;Простые&nbsp;ключи&nbsp;и&nbsp;значения<br>-&nbsp;Основной&nbsp;упор&nbsp;на&nbsp;скорость<br>-&nbsp;Минимальное&nbsp;количество&nbsp;операций | -&nbsp;Планирование&nbsp;размера&nbsp;кеша<br>-&nbsp;Стратегии&nbsp;обновления данных<br>-&nbsp;Обработка&nbsp;ошибок&nbsp;и&nbsp;сбоев<br>-&nbsp;Мониторинг&nbsp;производительности<br>-&nbsp;Балансировка&nbsp;нагрузки
| Redis | -&nbsp;Очереди&nbsp;сообщений<br>-&nbsp;Счетчики&nbsp;и&nbsp;статистика<br>-&nbsp;Распределенные&nbsp;блокировки<br>-&nbsp;Кеширование&nbsp;объектов<br>-&nbsp;Публикация/подписка | -&nbsp;Сложные&nbsp;структуры&nbsp;данных<br>-&nbsp;Дополнительные&nbsp;возможности (публикации,&nbsp;очереди)<br>-&nbsp;Персистентность&nbsp;данных | -&nbsp;Очереди&nbsp;сообщений<br>-&nbsp;Счетчики&nbsp;и&nbsp;статистика<br>-&nbsp;Распределенные&nbsp;блокировки<br>-&nbsp;Кеширование&nbsp;объектов<br>-&nbsp;Публикация/подписка<br> |

---


### **1\. Типичные проблемы, которые решаются рассмотренными технологиями кэширования:**

1.  **Медленные запросы к БД:**
	*   Кеширование результатов запросов
	*   Предварительная агрегация данных

2.  **Высокие пики нагрузки:**
	*   Буферизация запросов
	*   Распределенное кеширование

3.  **Ограниченная пропускная способность:**
	*   Локальное хранение часто используемых данных
	*   Снижение количества обращений к медленным ресурсам

4.  **Проблемы с масштабированием:**
	*   Распределенное хранение данных
	*   Горизонтальное масштабирование


### **2\. Примеры реальных проблем, решаемых в продакшен сервисах:**

1.  **E-commerce платформы:**
	*   Кеширование карточек товаров
	*   Кеширование корзин покупок
	*   Хранение сессий пользователей

2.  **Социальные сети:**
    *   Кеширование новостной ленты
    *   Хранение данных профилей
    *   Буферизация сообщений

3.  **Игровые сервисы:**
    *   Хранение игровых сессий
    *   Кеширование рейтингов
    *   Управление инвентарем


**Технические преимущества:** Высокая производительность, Низкое время отклика, Простота интеграции; Гибкие механизмы хранения, Поддержка различных типов данных.

**Также можно отметить ряд дополнительных, но важных преимуществ:** Повышение отказоустойчивости, Улучшение времени отклика, Снижение затрат на инфраструктуру, Оптимизация использования ресурсов.


### Задание 2

`Приведите ответ в свободной форме........`

1.  `Заполните здесь этапы выполнения, если требуется ....`
    
2.  `Заполните здесь этапы выполнения, если требуется ....`
    
3.  `Заполните здесь этапы выполнения, если требуется ....`
    
4.  `Заполните здесь этапы выполнения, если требуется ....`
    
5.  `Заполните здесь этапы выполнения, если требуется ....`
    

Поле для вставки кода... .... .... .... ....

`При необходимости прикрепитe сюда скриншоты ![Название скриншота 2](ссылка на скриншот 2)`

### Задание 3

`Приведите ответ в свободной форме........`

1.  `Заполните здесь этапы выполнения, если требуется ....`
    
2.  `Заполните здесь этапы выполнения, если требуется ....`
    
3.  `Заполните здесь этапы выполнения, если требуется ....`
    
4.  `Заполните здесь этапы выполнения, если требуется ....`
    
5.  `Заполните здесь этапы выполнения, если требуется ....`
    

Поле для вставки кода... .... .... .... ....

`При необходимости прикрепитe сюда скриншоты ![Название скриншота](ссылка на скриншот)`

### Задание 4

`Приведите ответ в свободной форме........`

1.  `Заполните здесь этапы выполнения, если требуется ....`
    
2.  `Заполните здесь этапы выполнения, если требуется ....`
    
3.  `Заполните здесь этапы выполнения, если требуется ....`
    
4.  `Заполните здесь этапы выполнения, если требуется ....`
    
5.  `Заполните здесь этапы выполнения, если требуется ....`
    

Поле для вставки кода... .... .... .... ....

`При необходимости прикрепитe сюда скриншоты ![Название скриншота](ссылка на скриншот)`